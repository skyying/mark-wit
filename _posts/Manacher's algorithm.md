Manacher's algorithm



其中一個方法是，逐一的讓每一個字都是中心點，比較左右兩邊的字串，如果相同，就繼續比較下去，一直找到最長的迴文爲止。

首需要處理字串長度爲偶數的問題，

![image-20180716210942172](/var/folders/53/jqmxy0dj4bq0f9j399wxt3lr0000gn/T/abnerworks.Typora/image-20180716210942172.png)



如果是像上圖這種字串，他其實也是迴文，中心點剛好在兩個a中間。

那要怎麼處理呢，很簡單，想一個辦法把偶數的字串數變成奇數，同時又可以認得出來這個字串原本的樣子就好。

只要像種樹這樣，在每間房子(字母)的中間都種上一顆樹。想像一下，如果房子的數量是奇數，那麼需要偶數顆的樹才能讓樹包圍每一間房子，如果是偶數的房子，則需要奇數顆樹。



兩種情況，房子跟樹的數量加起來都是奇數。



處理完之後。



先瞭解迴文的一些基本原理。

![image-20180716212254576](/var/folders/53/jqmxy0dj4bq0f9j399wxt3lr0000gn/T/abnerworks.Typora/image-20180716212254576.png)





看看上面這張圖，想像一槓就是一顆樹，子母就是房子。下面的數字從0-14代表他們的門牌號碼。

我們現在的任務就是找出最長能夠造成迴文的連續位子, e.g. 0 - 14。



從位子0開始，以這個位置爲中心，能形成的最長迴文數爲0, 因爲左邊沒東西阿。

從位子1開始，能形成的最長迴文數爲1, 因爲是a自己。

從位子2開始，能形成的最長迴文數爲0, 因爲a和b不一樣。

從位子3開始，能形成的最長迴文數爲3, 迴文字串是aba

從位子4開始，根本沒有迴文

從位子5開始，能形成的最長迴文數爲5, 迴文是ababa

...依次類推



如果把這些資料存成Array就變成

如果迴文是奇數"|a|b|a|b|a|b|a|"

![image-20180716213021690](/var/folders/53/jqmxy0dj4bq0f9j399wxt3lr0000gn/T/abnerworks.Typora/image-20180716213021690.png)



如果迴文是偶數"|a|b|a|a|b|a|"

![image-20180716213200117](/var/folders/53/jqmxy0dj4bq0f9j399wxt3lr0000gn/T/abnerworks.Typora/image-20180716213200117.png)





可以從上面發現一個規則，如果位置是奇數(字母)，那麼迴文的長度一定大於等於1, 因爲至少是字母自己。

像|a| 因爲左右有兩個Bar所以，至少是a。

如果是偶數(直bar | 的位置)，則是大於等於0，因爲左右兩邊不相等。比方說|a|b|，這些|的迴文數都是0。























