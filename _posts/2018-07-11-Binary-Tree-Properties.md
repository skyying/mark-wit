---
layout: post
title: "Binary tree properties"
description: "介紹Binary tree的一些特性"
date: 2018-07-11
tags: [Data structure]
comments: true
share: true
---

Binary Tree是階層式的資料結構, 和array, linked list那種線性的結構不同。

<br>


### 爲什麼要用樹？

1. 想要有階層的存資料
2. 更快的搜尋
3. 儲存和linked list一樣，沒有數量上的限制。


<br>


### 名詞介紹

1. 葉子, 下面沒有子節點的，都叫做葉子, 像下面的最後一排都沒有孩子，他們就是葉子。

2. 高度, 表示一顆樹總共有幾層的意思？

3. 節點, 就是幾個資料點的意思。

   

高度1, 1個節點

```
   0
```



高度2, 3個節點

```
      0
    /   \
   1      2
```



高度3, 7個節點

```
      0
    /   \
   1      2
  / \    / \
 3   4  5   6
```



一個節點的結構如下

```python
class Node:
    def __init__(self, key):
        self.left = None
        self.right = None
        self.val = key
```



如果要創造更多節點，其實跟linked list很像，只要link起他們的左右關係就好

```python
root = Node(1)
root.left = Node(2)
root.right = Node(3)
root.left.left = Node(4)
```



<br>

### 一些 binary tree 的特性

#### 第 i 層最多可能有幾個節點？

在第`i`層的節點樹會等於$$2^{i-1}$$ , 第一層只有一個`node`, 因此第一層的節點樹是1, 第二層則是2, 第三層是4, 第`i`層的節點樹其實剛好就是$$2^{i-1}$$

```
      0
    /   \
   1      2
  / \    / \
 3   4  5   6
```

<br>



#### 一顆 h 高度的樹，它最多可能有幾個節點？

如果 `h`爲1, 則有1個節點，如果 `h `爲2，則有$$1 + 2 = 3$$個節點，如果`h `爲3則有$$ 1 + 2 + 4 = 7 $$個節點，應該可以發現規律，有 `h` 高度的樹的節點樹總和就是 $${2^h} - 1$$ 。



<br>

#### 一顆有 n 個節點的樹，它最大可能的高度是多少呢？

這時候 $$\log_2$$ 就派上用場啦，先這樣想，如果節點是1, 那麼是一層對吧，如果節點樹是2~3那麼就是2層，如果是4~7那麼就是3層，(這裏的$$\log$$都是$$\log_2$$), 我們先看下面這個公式。


$$
log_2{1}
$$
這個公式的意思是2 的幾次方會等於 1 呢？ 答案是 0 次方。



但是有一個節點怎麼會是 0 層呢？所以我們得先在
$$
log_2{1}
$$
的這個1再加上1, 去求高度，所以最終的公式就會變成
$$
log_2{n+1}
$$
這就是樹潛在的最大高度。但是這個
$$
log_2{n+1}
$$
，只要$$n+1$$不是2的 x 次方，就會有小數點，所以記得要無條件進位，比方說像下面，假設有6個節點，那麼
$$
log_2{6} = 2.8...
$$
但其實，它有三層啦。

```
      0
    /   \
   1      2
  / \    
 3   4  
```



<br>

#### 一個有n片葉子的樹, 至少有多高？

注意這裏是葉子，不是節點，如果有 `n ` 片葉子，想想，第一題，如果我們已經知道第幾層，那麼我們可以透過一顆`binary tree`的第 `i` 層最多可能有 
$$
2^{i-1}
$$
個節點來回推，那其實就是一個log的代數運算而已。

<br>

<div>
$$
2^{i-1} = n
$$
</div>

<div>
$$
log_2{2^{i-1}} = \log_2{n}
$$
</div>

<div>
$$
{i-1} = \log_2{n}
$$
</div>

<div>
$$
i = {\log_2{n}} - 1
$$
</div>

<br>

所以答案是至少有<span>
$$
{\log_2{n}} - 1
$$
</span> 層那麼高。

<br>

#### 如果是滿的樹，就是節點要嘛有兩個小孩，要麻沒有小孩，那麼葉子的數量，一定比有兩個小孩的節點樹多一個。

什麼~有這麼神奇的事？

葉子是4片，有兩個小孩的節點數是3! 

```
      0
    /   \
   1      2
  / \    / \
 3   4  5   6
```





葉子是3片，有兩個小孩的節點樹是2！

```
      0
    /   \
   1      2
  / \    
 3   4  
```



好像是真的也，但是爲什麼？這就需要待續兩個字了。



##### 參考資料

* [geeksforgeeks](https://www.geeksforgeeks.org/binary-tree-data-structure/#Introduction)

